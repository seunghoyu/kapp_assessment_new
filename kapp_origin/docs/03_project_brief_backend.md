# 해커스 캠퍼스 Business NEXT GEN – 백엔드 관점 프로젝트 개요

> **역할**: 데이터 모델, API 요구사항, 저장소, 연동 시 고려사항  
> **현재**: 백엔드 없음. 프론트만 브라우저 저장소·목 데이터 사용.  
> **초점**: 연동 시 필요한 엔티티·API·데이터 구조

---

## 1. 현재 데이터 사용 방식

- **진단 결과·사용자 정보**: 브라우저 저장소에 JSON 저장. 페이지 로드 시 읽기만 함.
- **교육 과정·진단 문항·산업·직무·관리자용 부서·스킬·벤치마크·전략 매핑 등**: 모두 프론트에 하드코딩된 목 데이터.
- **인증·권한**: 없음. 관리자 페이지는 URL로만 구분.

---

## 2. 도메인 엔티티(연동 시 가정)

### 2.1 사용자·조직
- **사용자**: 식별자, 이름, 이메일, 소속 조직, 부서, 직급, 연차, 산업·직무(선택). 역할(일반/관리자).
- **조직**: 식별자, 이름, 기업 규모. (부서·사업장은 별도 테이블 또는 조직 트리.)

### 2.2 진단
- **진단 세션**: 식별자, 사용자, 시작·종료 시각, 완료 여부, 소요 시간.
- **진단 결과**: 세션 또는 사용자 기준 1:1. 사용자 정보 스냅샷(이름·산업·직무·직급·연차·회사·기업 규모·진단 목표), KAPP 4차원 점수(knowledge, application, performance, productivity), 종합 점수, DNA 유형 코드, (선택) 문항별 응답·정오.
- **문항 뱅크**: 문항 ID, 산업, 카테고리(K/A/P/P), 난이도, 문항 유형(선다형·시나리오·E-tray·AI 워크플로우), 지문·선택지·정답·해설. E-tray/AI 워크플로우는 시나리오 JSON·선택지 배열·정답 인덱스.

### 2.3 교육
- **과정**: 식별자, 제목, 카테고리·하위 카테고리, 난이도, 기간, 산업 태그, 추천 여부, 설명, 커리큘럼, 학습 결과, 제공자, 링크. (수강자 수·평점은 집계 또는 별도.)
- **학습 경로**: 역량(또는 경로) ID, 단계 번호, 단계 제목·설명, 연결 과정 ID 목록.

### 2.4 조직 역량(관리자)
- **부서**: 식별자, 조직, 이름, 인원 수.
- **부서별 스킬 점수**: 부서, (기간/스냅샷), 스킬명, 점수(0–100). 또는 임직원별 스킬 점수 집계.
- **임직원 목록**: 사용자 + 부서·직급·종합 점수·강점 역량·개선 필요·교육 현황. (실제로는 사용자·진단 결과·이수 과정 조인.)
- **업계 벤치마크**: 업계 코드, 업계명, 스킬명, 점수(상위 10% 등).
- **역량 개발 프로그램**: 프로그램 ID, 역량명, 참여 인원, 진행률, 평균 점수, 목표 점수, 상태(진행중/완료).

### 2.5 전략·ROI·고성과자·리스크
- **전략 키워드–매핑**: 키워드, 필요 스킬 목록, 추천 역할, 추천 교육(과정 ID·기간·우선순위). (현재는 프론트 객체.)
- **ROI**: 입력(인원, 1인당 비용, 스킬 향상 %) → 공식으로 투자·수익·ROI 계산. 저장 필요 시 프로젝트명·입력값·결과·생성 시각.
- **고성과자**: 팀/부서, 상위 N% KAPP 프로필(평균 점수 벡터). 갭 분석은 팀 평균 vs 상위 N%.
- **스킬 리스크**: 부서·스킬별 리스크 등급(긴급/높음/보통/낮음), 기준(점수·갭·인력 수 등). 리스트·카운트 조회.

---

## 3. API 요구사항(연동 시 제안)

### 3.1 인증·사용자
- **로그인**: 이메일/비밀번호 또는 SSO. 응답: 액세스 토큰, 사용자 식별자·이름·역할·소속 조직.
- **내 정보 조회/수정**: 프로필, 부서, 직급, 연차, 산업·직무 등.
- **권한**: 관리자 페이지는 역할이 관리자(또는 교육담당)인 경우만 허용.

### 3.2 진단
- **산업·직무·직급·연차·기업 규모 목록**: 코드/라벨. (캐시 가능.)
- **문항 조회**: 산업·카테고리·난이도·유형별. 적응형이면 “다음 문항” API(세션 ID, 이전 응답)로 다음 문항 반환.
- **진단 제출**: 세션 ID, 사용자 정보 스냅샷, 문항별 응답. 응답: 결과(점수·DNA 유형)·저장 완료.
- **내 진단 결과 조회**: 최신 1건 또는 목록. 대시보드·교육 추천·나의 성장에서 사용.

### 3.3 교육
- **과정 목록**: 필터(산업·카테고리·난이도·기간·추천). 페이지네이션. 정렬.
- **과정 상세**: ID → 상세 정보·커리큘럼·학습 결과.
- **맞춤 추천**: 사용자 또는 진단 결과 ID → 추천 과정 ID 목록·사유(선택).
- **학습 경로 목록**: 역량/경로 ID → 단계·연결 과정.

### 3.4 대시보드(개인)
- **대시보드 스냅샷**: 진단 결과 기반이므로 “진단 결과 조회”로 대체 가능. 시장 포지션·커리어 경로·연봉 예측용 기준 데이터는 별도 마스터 API(산업·직무별 포지션·경로·연봉 밴드) 제공 시 대시보드에서 조합.

### 3.5 관리자
- **요약 통계**: 조직(또는 부서) 기준 임직원 수, 진단 완료 수/완료율, 교육 이수 건수, 평균 역량 점수. 기간 필터(선택).
- **부서별 역량**: 기간(월) → 부서별 평균 점수.
- **역량 분포**: 조직/기간 → 점수 구간별 인원 또는 비율.
- **진행 중인 프로그램**: 목록, 필터(전체/진행중/완료).
- **임직원 목록**: 부서·직급·검색·정렬·페이지네이션. 컬럼: 이름·부서·직급·종합 점수·강점·개선·교육 현황·액션.
- **스킬 갭(히트맵)**: 부서(또는 전체), 스킬 카테고리(선택) → 부서별 스킬별 점수(또는 등급).
- **업계 벤치마킹**: 비교 부서, 비교 업계 → 우리 부서 스킬 점수, 업계 벤치마크 스킬 점수. (레이더·인사이트는 프론트에서 계산 가능.)
- **전략 매핑**: 키워드 검색 또는 고정 목록 → 필요 스킬·추천 인력·교육·로드맵. “추천 인력”은 실제 임직원 스킬 매칭 API로 대체 가능.
- **ROI**: 입력값 받아 계산만 하거나, 계산 결과 저장 시 POST.
- **고성과자**: 팀 선택 → 상위 N% 성과자 KAPP 프로필 평균, 팀 평균. 갭 분석은 프론트 계산 가능.
- **스킬 리스크**: 부서·리스크 등급 필터 → 리스트·카운트.

---

## 4. 데이터 구조 예시(요청/응답 참고)

### 4.1 진단 결과(저장·조회)
- **저장**: userData(name, industry, job, position, experience, company, companySize, goals[]), scores(knowledge, application, performance, productivity), overallScore, dnaType(선택), completedAt.
- **조회**: 동일 구조. 목록 시에는 id, completedAt, overallScore 정도만 내려도 됨.

### 4.2 과정
- **목록**: id, title, category, level, duration, industries[], recommended, thumbnail, rating, students(선택).
- **상세**: 목록 필드 + description, curriculum[], outcomes[], provider, link.

### 4.3 부서별 스킬(관리자)
- **요청**: departmentIds[], period(월 또는 스냅샷 ID).
- **응답**: departmentId, skillName, score(0–100) 또는 grade(긴급/주의/보통/양호/우수).

### 4.4 업계 벤치마크
- **요청**: industryCode.
- **응답**: industryName, skills[] { name, score }.

---

## 5. 저장소·성능 고려

- **세션·결과**: 진단 세션·결과는 쓰기 빈도 낮음. 사용자별 최신 1건 자주 조회 → 인덱스( userId, completedAt DESC ).
- **과정·문항·마스터**: 읽기 위주. 캐시(메모리·CDN) 권장.
- **관리자 집계**: 부서별·기간별 집계는 미리 집계 테이블 또는 배치로 생성해 두면 조회 빠름.
- **파일**: 인증서·ROI 보고서 등 생성 시 임시 URL 또는 스토리지 업로드 후 URL 반환.

---

## 6. 보안·권한

- **인증**: 모든 API(또는 진단 제출·결과·관리자) 토큰 검증.
- **권한**: 관리자 API는 역할=관리자(또는 교육담당)만. 조직 단위면 organizationId로 데이터 스코프 제한.
- **개인정보**: 이름·이메일 등 암호화·접근 로그는 정책에 따라 적용.

---

## 7. 정리

- 현재는 **API 없이 프론트만** 동작. 위 엔티티·API는 “연동 시 이렇게 하면 된다”는 가이드.
- **우선 구현 후보**: 로그인, 진단 결과 저장/조회, 과정 목록/상세, 관리자 요약·부서별 점수·임직원 목록·스킬 갭. 그 다음 벤치마크·전략 매핑·고성과자·리스크·ROI 저장.
