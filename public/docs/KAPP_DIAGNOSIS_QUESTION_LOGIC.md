# KAPP 진단 문항 구성 로직 (경우별 상세)

> **누가 읽어도 이해할 수 있도록** 진단이 어떻게 진행되고, **어떤 경우에 어떤 문항이 나오는지** 경우별로 정리한 문서입니다.  
> 기획·운영·교육 담당자와 개발자 모두 참고할 수 있습니다.

---

## 1. 진단 전체 흐름 (한눈에 보기)

진단은 아래 순서로만 진행됩니다. 이전 단계를 끝내야 다음 단계가 열립니다.

| 순서 | 단계 이름 | 무엇을 하나요? | 문항/시나리오가 정해지는 기준 |
|------|-----------|----------------|-------------------------------|
| 1 | 정보 입력 | 이름, 산업·직무, 직급, 연차, 기업 규모, 진단 목표 등 입력 | - |
| 2 | 지식 문항 | 직무 관련 지식 퀴즈 (객관식) | **난이도·지식 수준**에 따라 맞춤 출제 (적응형) |
| 3 | 적용 문항 | 업무 시나리오를 읽고 선택 | **산업·직무·직급**에 따라 선정 |
| 4 | 성과 문항 | KPI·성과 관련 선택 | **산업·직무**에 따라 선정 |
| 5 | 디지털 인바스켓 | 받은 이메일 처리 시뮬레이션 | **산업**에 따라 이메일 세트가 달라짐 |
| 6 | AI 워크플로우 | AI 도구 활용 시나리오 1개 | **산업**에 따라 시나리오 1개 선택 |
| 7 | 결과 | 영역별·종합 점수, 강점/개선 영역 표시 | - |

**요약**: 입력한 **산업·직무·직급·연차**가 그대로 “어떤 문항/시나리오가 나올지”를 결정합니다. 진단 목표(승진/이직/스킬업/커리어 전환)는 문항 선정에는 쓰이지 않고, **결과 해석·추천**에만 사용됩니다.

---

## 2. 경우별로 정리: 어떤 문항이 나오는가

### 2.1 산업군에 따른 차이

**선택 가능한 산업**: IT, 금융, 교육, 의료, 제조, 유통/리테일, 마케팅/광고, 호텔/관광, 법률/회계, 기타

| 구분 | 산업을 선택했을 때 어떻게 적용되나요? |
|------|--------------------------------------|
| **지식 문항** | 해당 산업에 맞는 지식 문항이 있으면 그 문항을 우선 사용합니다. 없으면 “공통” 문항으로 채웁니다. |
| **적용 문항** | 해당 산업·직무에 맞는 시나리오 문항이 있으면 사용하고, 부족하면 공통 시나리오로 보충합니다. |
| **성과 문항** | 해당 산업·직무에 맞는 성과(KPI) 문항이 있으면 사용하고, 부족하면 공통 문항으로 보충합니다. |
| **디지털 인바스켓** | **선택한 산업에 따라 이메일 세트가 완전히 바뀝니다.** 예: IT → 개발·배포 관련 메일, 금융 → 여신·리스크 관련 메일. |
| **AI 워크플로우** | **선택한 산업에 따라 시나리오 1개가 정해집니다.** 예: IT → 개발 워크플로우, 금융 → 심사·리포트 워크플로우. |

- **기타**를 선택한 경우: 지식/적용/성과는 공통 문항 위주, 인바스켓·AI 워크플로우는 “기타”용 기본 시나리오가 나옵니다.

---

### 2.2 세부 직무에 따른 차이

직무는 **산업을 고른 뒤** 그 산업에 속한 직무 목록에서 선택합니다.

| 산업 예시 | 선택 가능한 직무 예시 |
|-----------|------------------------|
| IT | 개발자(Backend), 개발자(Frontend), 데이터 엔지니어, 정보보안, DevOps, UI/UX 디자이너, QA/테스터, 프로젝트 매니저 |
| 금융 | 카드사업부 마케터, 여신심사역, 리스크 관리, IB 애널리스트, 자산관리(PB), 핀테크 기획자, 준법감시, 금융상품 개발 |
| 교육 | 강사/교수, 교육 콘텐츠 기획자, 교육 컨설턴트, LMS 관리자, 커리큘럼 디자이너, 에듀테크 PM |
| 기타 | 인사/HR, 총무, 경영 기획, 영업, 고객 서비스, 일반 관리 |

**문항에 미치는 영향**  
- 지식·적용·성과 문항 중 “이 직무용”으로 만든 문항이 있으면 **그 문항이 우선** 나옵니다.  
- 해당 직무용 문항이 없거나 수가 부족하면, **산업 공통** 또는 **전체 공통** 문항으로 채웁니다.  
- **인바스켓·AI 워크플로우**는 직무가 아니라 **산업**만 보고 결정됩니다.

**예시**  
- IT + 개발자(Backend) → 백엔드·API·DB 관련 지식/적용 문항이 있으면 우선 출제.  
- IT + UI/UX 디자이너 → 디자인·사용성 관련 문항이 있으면 우선 출제.  
- 같은 IT라도 직무가 다르면 **나오는 지식/적용/성과 문항 구성이 달라질 수 있습니다.**

---

### 2.3 직급에 따른 차이

**선택 가능한 직급**: 인턴, 사원, 주임, 대리, 과장, 차장, 부장, 임원

| 구분 | 직급이 반영되는 곳 |
|------|-------------------|
| **지식 문항** | 직급으로 문항을 바꾸지 않습니다. (난이도·지식 레벨만 사용) |
| **적용 문항** | 일부 시나리오 문항이 “대리·과장용”처럼 **직급 조건**을 가질 수 있습니다. 해당 직급이면 그 문항이 노출 후보에 포함됩니다. |
| **성과 문항** | 기본적으로 직급으로 필터하지 않고, 산업·직무만 사용합니다. (필요 시 직급 조건 확장 가능) |
| **인바스켓·AI 워크플로우** | 직급과 무관하게 **산업**만 보고 결정됩니다. |

**요약**: 직급은 주로 **적용(시나리오) 문항**에서만 “이 직급에 맞는 시나리오”를 넣는 데 쓰입니다.

---

### 2.4 연차에 따른 차이

**선택 가능한 연차**: 1년 미만(신입), 1–2년, 3–4년, 5–7년, 8–10년, 11–15년, 16년 이상

| 구분 | 연차가 반영되는 곳 |
|------|---------------------|
| **지식 문항** | **처음 나오는 문항의 난이도**를 정할 때 사용합니다. 신입(1년 미만)이면 보통 “쉬움~보통”부터, 경력이 길수록 “보통~어려움”부터 시작할 수 있습니다. |
| **적용·성과·인바스켓·AI 워크플로우** | 문항/시나리오 선정에는 보통 연차를 쓰지 않고, **결과 해석·추천**에서만 참고할 수 있습니다. |

**요약**: 연차는 **지식 단계의 시작 난이도**에만 영향을 주고, 이후에는 “맞춤 난이도(적응형)”로 바뀝니다.

---

### 2.5 진단 목표에 따른 차이

**선택 가능한 목표 (복수 선택 가능)**: 승진 준비 / 이직·전직 준비 / 직무 스킬 향상 / 커리어 전환

- **문항이 무엇이 나오는지**에는 전혀 영향을 주지 않습니다.  
- **결과 화면·리포트·추천 교육** 등에서 “목표에 맞는 해석·추천”을 할 때만 사용됩니다.

---

## 3. 단계별 상세: 어떻게 문항이 정해지는가

### 3.1 지식 문항 (적응형)

**특징**: “쉬움 → 보통 → 어려움”이 **실력에 맞춰** 바뀌는 방식입니다.

| 항목 | 설명 |
|------|------|
| **시작 난이도** | 보통(medium)부터 시작합니다. 연차가 1년 미만이면 쉬움(easy)부터 시작할 수도 있습니다. |
| **문항 수** | 지식 카테고리당 **3문항** 정도 풀면 해당 단계 종료 후 다음 단계(적용)로 넘어갑니다. |
| **선정 조건** | (1) 지식 문항이면서, (2) 사용자 **산업·직무**와 맞거나 “공통” 문항이고, (3) **현재 난이도**와 같고, (4) 아직 안 낸 문항 중에서 **한 개를 무작위**로 뽑아 출제합니다. |
| **정답 시** | 난이도를 한 단계 올립니다 (쉬움→보통, 보통→어려움). 지식 레벨도 소폭 상승(상한 5). |
| **오답 시** | 난이도를 한 단계 내립니다 (어려움→보통, 보통→쉬움). 지식 레벨도 소폭 하락(하한 1). |

**산업·직무별 차이**  
- 문항에 “IT”, “개발자(Backend)”처럼 표시가 있으면 **그 산업·직무를 선택한 사람에게만** 나올 수 있습니다.  
- 그런 문항이 없거나 부족하면 **표시가 없는 공통 문항**으로 채웁니다.

---

### 3.2 적용 문항 (시나리오)

**특징**: 고정된 수(예: 3~4문항)를, **산업·직무·직급**에 맞는 시나리오로 출제합니다.

| 항목 | 설명 |
|------|------|
| **선정 조건** | (1) 적용(application) 문항이면서, (2) **산업**이 일치하거나 공통, (3) **직무**가 일치하거나 공통, (4) 일부 문항은 **직급**도 일치할 때만 후보에 포함, (5) 아직 안 낸 문항 중에서 순서대로 또는 무작위로 출제합니다. |
| **문항 수** | 보통 3~4문항. 조건에 맞는 문항이 부족하면 **공통 시나리오**로 보충합니다. |

**예시**  
- IT + 개발자(Backend) + 대리 → “백엔드 장애 대응”, “API 설계 검토” 같은 시나리오가 있으면 우선 출제.  
- 금융 + 여신심사역 + 과장 → “여신 한도 검토”, “심사 보고서 검토” 같은 시나리오가 있으면 우선 출제.

---

### 3.3 성과 문항 (KPI·성과)

**특징**: 적용과 비슷하게 **고정된 수**(예: 3~4문항)를, **산업·직무**에 맞는 성과/KPI 문항으로 출제합니다.

| 항목 | 설명 |
|------|------|
| **선정 조건** | (1) 성과(performance) 문항이면서, (2) **산업** 일치 또는 공통, (3) **직무** 일치 또는 공통, (4) 아직 안 낸 문항 중에서 순서/무작위로 출제합니다. |
| **문항 수** | 보통 3~4문항. 부족하면 **공통 성과 문항**으로 보충합니다. |

---

### 3.4 디지털 인바스켓 (E-tray)

**특징**: 받은 이메일을 처리하는 **시뮬레이션**입니다. **산업만** 보고 이메일 세트가 정해집니다.

| 항목 | 설명 |
|------|------|
| **어떤 이메일이 나오나요?** | 사용자가 선택한 **산업**에 해당하는 이메일 목록이 한 세트로 준비되어 있습니다. 예: IT → 개발·배포·장애 관련 메일, 금융 → 여신·리스크·준법 관련 메일. |
| **무엇을 기록하나요?** | (1) 어떤 이메일을 열었는지, (2) 각 이메일에 어떤 액션(열기/답장/전달/보관 등)을 했는지, (3) **처리 시작부터 완료까지 걸린 시간**이 저장됩니다. |
| **점수는 어떻게 나오나요?** | 긴급도가 높은 메일에 적절히 대응했는지, 제한 시간 안에 처리했는지 등을 반영해 **생산성** 점수로 계산할 수 있습니다. |

**직무·직급·연차**는 인바스켓 이메일 세트 선택에 **사용하지 않습니다**. 산업만 사용합니다.

---

### 3.5 AI 워크플로우 시뮬레이션

**특징**: **산업별로 정해진 1개 시나리오**에서, 주어진 업무 상황에 맞는 AI 활용 옵션을 고르는 단계입니다.

| 항목 | 설명 |
|------|------|
| **어떤 시나리오가 나오나요?** | 사용자가 선택한 **산업**에 해당하는 AI 워크플로우 시나리오 **1개**가 선택됩니다. 예: IT → 개발·코드 리뷰 관련, 금융 → 리스크 리포트·심사 관련. |
| **무엇을 기록하나요?** | (1) 어떤 시나리오(workflowId)를 풀었는지, (2) **몇 번째 옵션**을 선택했는지, (3) **정답 여부**, (4) 선택한 옵션의 요약(시간 단축, 품질 점수 등)이 저장됩니다. |
| **점수** | 정답이면 만점 또는 가산, 오답이면 감점 또는 선택한 옵션의 품질 점수를 반영해 계산할 수 있습니다. |

**직무·직급·연차**는 AI 워크플로우 시나리오 선택에 **사용하지 않습니다**. 산업만 사용합니다.

---

## 4. 구체적 시나리오 예시 (경우별)

### 예시 1: A씨 — IT, 개발자(Backend), 대리, 3–4년차

| 단계 | 예상되는 내용 |
|------|----------------|
| 정보 입력 | 이름, 이메일, IT, 개발자(Backend), 대리, 3–4년, 기업 규모, 진단 목표(예: 승진·스킬업) 입력 |
| 지식 | 시작은 보통(medium) 난이도. IT·백엔드 관련 지식 문항이 있으면 우선 출제. 정답/오답에 따라 다음 문항 난이도가 바뀜. 3문항 후 적용으로 이동. |
| 적용 | IT·개발자(Backend)·대리용 시나리오 문항이 있으면 우선 3~4문항 출제. 부족하면 IT 공통 또는 전체 공통 시나리오로 보충. |
| 성과 | IT·개발자(Backend)에 맞는 성과/KPI 문항 3~4개. 부족하면 공통으로 보충. |
| 인바스켓 | **IT용** 이메일 세트(개발·배포·장애 등) 1세트. 액션·소요 시간 기록. |
| AI 워크플로우 | **IT용** AI 워크플로우 시나리오 1개. 선택 옵션·정답 여부 기록. |
| 결과 | 지식/적용/성과/생산성 점수, 종합 점수, 지식 레벨, 강점/개선 영역 표시. |

---

### 예시 2: B씨 — 금융, 여신심사역, 과장, 8–10년차

| 단계 | 예상되는 내용 |
|------|----------------|
| 정보 입력 | 이름, 이메일, 금융, 여신심사역, 과장, 8–10년, 기업 규모, 진단 목표 입력 |
| 지식 | 시작은 보통(medium) 이상 가능. 금융·여신 관련 지식 문항이 있으면 우선 출제. 적응형으로 3문항 후 적용으로. |
| 적용 | 금융·여신심사역·과장에 맞는 시나리오 문항 우선. (예: 심사 보고서 검토, 한도 검토 등) 3~4문항. |
| 성과 | 금융·여신심사역에 맞는 성과 문항 3~4개. |
| 인바스켓 | **금융용** 이메일 세트(여신·리스크·준법 등) 1세트. |
| AI 워크플로우 | **금융용** AI 워크플로우 시나리오 1개. |
| 결과 | 동일하게 영역별·종합 점수, 지식 레벨, 강점/개선 표시. |

---

### 예시 3: C씨 — 기타, 인사/HR, 대리, 1–2년차

| 단계 | 예상되는 내용 |
|------|----------------|
| 정보 입력 | 기타, 인사/HR, 대리, 1–2년, 기업 규모, 진단 목표 입력 |
| 지식 | 신입에 가까우면 쉬움~보통부터 시작 가능. “기타”·“인사/HR” 전용 문항이 있으면 사용, 없으면 **공통 지식 문항**으로 진행. |
| 적용 | 기타·인사/HR·대리용 시나리오가 있으면 사용, 없으면 **공통 적용 문항**으로 3~4문항. |
| 성과 | 기타·인사/HR용 성과 문항 또는 **공통 성과 문항**으로 3~4문항. |
| 인바스켓 | **기타용** 기본 이메일 세트 1세트. |
| AI 워크플로우 | **기타용** 기본 AI 워크플로우 시나리오 1개. |
| 결과 | 동일하게 영역별·종합 점수, 지식 레벨, 강점/개선 표시. |

---

## 5. 요약 표: 무엇이 문항/시나리오를 결정하는가

| 단계 | 산업 | 직무 | 직급 | 연차 | 진단 목표 |
|------|------|------|------|------|-----------|
| 지식 문항 | ○ (문항 풀 선정) | ○ (문항 풀 선정) | 사용 안 함 | ○ (시작 난이도만) | 사용 안 함 |
| 적용 문항 | ○ | ○ | ○ (일부 문항만) | 사용 안 함 | 사용 안 함 |
| 성과 문항 | ○ | ○ | 사용 안 함 | 사용 안 함 | 사용 안 함 |
| 디지털 인바스켓 | ○ (이메일 세트) | 사용 안 함 | 사용 안 함 | 사용 안 함 | 사용 안 함 |
| AI 워크플로우 | ○ (시나리오 1개) | 사용 안 함 | 사용 안 함 | 사용 안 함 | 사용 안 함 |
| 결과 해석·추천 | 참고 | 참고 | 참고 | 참고 | ○ |

---

## 6. 구현 시 참고 (개발자용 요약)

- **지식**: `category === 'knowledge'`, `industry`/`job` 일치 또는 없음, `difficulty`(easy/medium/hard), 적응형으로 정답 시 상승·오답 시 하강, 동일 카테고리 3문항 후 종료.
- **적용**: `category === 'application'`, `industry`/`job`/`position`(선택) 일치 또는 없음, 3~4문항 고정.
- **성과**: `category === 'performance'`, `industry`/`job` 일치 또는 없음, 3~4문항 고정.
- **E-tray**: `userInput.industryAndJob.industry` → `etrayByIndustry[industry]`로 이메일 배열 선택. 결과: `emailIds`, `actions[]`(emailId, action, timestamp), `durationMs`.
- **AI 워크플로우**: `industry` 일치 항목 1개 선택. 결과: `workflowId`, `selectedOptionIndex`, `isCorrect`, `optionSnapshot`.
- **Raw 저장**: `userInput` + `stages`(knowledge, application, performance, etray, aiWorkflow) + `result` 한 객체로 정규화 저장 권장.

이 문서와 `KAPP_DIAGNOSIS_DATA_REFERENCE.md`, `kappDiagnosisRawData.json`을 함께 보면 진단 로직과 데이터 구조를 끝까지 추적할 수 있습니다.
